<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ‘ï¸ğŸ‘ï¸ğŸ‘ï¸</title>
  <script src="https://cdn.tailwindcss.com"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#B22222',
            secondary: '#8A0303',
            accent: '#FF4500',
          },
          fontFamily: {
            sans: ['Arial Rounded MT Bold', 'Avenir', 'Helvetica', 'Arial', 'sans-serif'],
          },
          animation: {
            'bounce-slow': 'bounce 2s infinite',
            'wiggle': 'wiggle 1s ease-in-out infinite',
            'pulse-slow': 'pulse 3s infinite',
          },
          keyframes: {
            wiggle: {
              '0%, 100%': { transform: 'rotate(-3deg)' },
              '50%': { transform: 'rotate(3deg)' },
            }
          }
        }
      }
    }
  </script>

  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow { text-shadow: 0 2px 4px rgba(0,0,0,0.1); }
      .text-shadow-lg { text-shadow: 0 4px 8px rgba(0,0,0,0.12), 0 2px 4px rgba(0,0,0,0.08); }
      .progress-ring-circle { transition: stroke-dashoffset 0.35s; transform: rotate(-90deg); transform-origin: 50% 50%; }
    }

    body {
      touch-action: none;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }

    .result-card { transform-style: preserve-3d; transition: transform 0.6s; }
    .result-card.flipped { transform: rotateY(180deg); }
    .result-card-front, .result-card-back { backface-visibility: hidden; position: absolute; top:0; left:0; width:100%; height:100%; }
    .result-card-back { transform: rotateY(180deg); }

    @keyframes float { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
    .float-animation { animation: float 3s ease-in-out infinite; }

    .progress-container { position: relative; width: 200px; height: 200px; }
    .progress-ring { transform: rotate(-90deg); }
    .progress-text { position: absolute; top:50%; left:50%; transform: translate(-50%, -50%); font-size:1.5rem; font-weight:bold; }
    .press-hint { position: absolute; top:50%; left:50%; transform: translate(-50%, -50%); text-align:center; pointer-events:none; }
  </style>
</head>

<body class="bg-secondary min-h-screen flex flex-col items-center justify-center p-4">
  <div class="container max-w-md mx-auto text-center">

    <h1 class="text-4xl md:text-5xl font-bold mb-6 text-primary text-shadow-lg">
      <p style="color: red;">ğŸ‘ï¸@&Â¥ï¼ˆ@â€”å…‹â€”#*#ğŸ‘ï¸é²*ï¼#èµç¾ï¼ï¼ğŸ‘ï¸ï¼ï¼ï½œâ€¦%Â¥ <span class="text-accent">ğŸ™ğŸ‘ï¸</span></p>
    </h1>

    <div class="bg-white rounded-3xl shadow-lg p-6 mb-8 transform transition-all duration-300 hover:shadow-xl">

      <!-- æµ‹è¯•åŒº -->
      <div id="test-area" class="mb-6">
        <div class="progress-container mx-auto">
          <svg class="progress-ring" width="200" height="200">
            <circle class="text-gray-200" stroke-width="10" stroke="currentColor" fill="transparent" r="85" cx="100" cy="100" />
            <circle id="progress-circle" class="text-primary progress-ring-circle" stroke-width="10" stroke="currentColor" fill="transparent" r="85" cx="100" cy="100" stroke-dasharray="534.07" stroke-dashoffset="534.07"/>
          </svg>

          <div id="press-hint" class="press-hint">
            <div class="text-5xl mb-2">ğŸ‘‡</div>
            <p class="text-lg" style="color:red;">&#%Â¥ï¼‰%ã€‹ã€Šï¼Ÿï¼ï½œã€ã€ŒÂ¥%%</p>
          </div>

          <div id="progress-text" class="progress-text hidden">
            <span id="progress-percentage">0%</span>
          </div>
        </div>

        <p id="instruction" class="text-gray-600 mt-6" style="color:red;">
          @&ï¼&ï¼ğŸ‘ï¸â€ğŸ—¨ï¸â€”â€”è§‚ã€Œâ€œã€‹å¯Ÿã€‘â€”â€”&ã€‰ğŸ‘ï¸â€ğŸ—¨ï¸ä¸­ï¼ï½%â€”â€”ï¼Ÿï¼Ÿâ€”ï½œ
        </p>
      </div>

      <!-- ç»“æœåŒº -->
      <div id="result-area" class="hidden">
        <div class="bg-primary/10 rounded-2xl p-6 flex flex-col items-center justify-center h-64 mb-6">
          <img id="result-emoji" class="w-24 h-24 mb-4 float-animation" src="image/pig.png" alt="çŒª">
          <h2 id="result-title" class="text-2xl font-bold text-gray-800 mb-2"></h2>
          <p id="result-description" class="text-gray-700 text-center">ğŸ‘ï¸â€ğŸ—¨ï¸ğŸ‘ï¸â€ğŸ—¨ï¸</p>
        </div>

        <button id="retest-button" class="bg-primary text-white py-2 px-6 rounded-full font-medium mb-4 hover:bg-primary/80 transition-colors">
          ğŸ‘ï¸â€ğŸ—¨ï¸*ï¼#ï¼‰ï¼Ÿã€‹ï¼šğŸ‘ï¸â€ğŸ—¨ï¸ã€ï½œâ€”ğŸ‘ï¸â€ğŸ—¨ï¸â€”
        </button>
      </div>

    </div>

    <footer class="text-gray-500 text-sm">
      <p style="color:red;">å¤œè¡Œè€…æœå†³ä¸ºä½ å®šåˆ¶awa <span class="text-primary">ğŸ‘ï¸â€ğŸ—¨ï¸</span></p>
    </footer>
  </div>

  <script>
    // æ•°æ®
    const pigResults = [
      {
        id: "mljy",
        name: "æ…•çµæ™¯é€¸",
        emoji: "ğŸ‘ï¸â€ğŸ—¨ï¸ğŸ™",
        description: "é‚ªç¥çš„ç–‘é—®ï¼šâ€¦â€¦Â¥&@&&*#&&@#&*Â¥â€¦â€¦& ã€å¤œè¡Œçš„ç¿»è¯‘ï¼šåœ°çƒä¸Šæ€ä¹ˆä¼šæœ‰å¦‚æ­¤çŒå¥‡ä¹‹äººï¼Ÿã€‘"
      }
    ];

    // DOM
    const testArea = document.getElementById('test-area');
    const resultArea = document.getElementById('result-area');
    const progressCircle = document.getElementById('progress-circle');
    const progressText = document.getElementById('progress-text');
    const progressPercentage = document.getElementById('progress-percentage');
    const pressHint = document.getElementById('press-hint');
    const instruction = document.getElementById('instruction');
    const resultEmoji = document.getElementById('result-emoji');
    const resultTitle = document.getElementById('result-title');
    const resultDescription = document.getElementById('result-description');
    const retestButton = document.getElementById('retest-button');

    // è¿›åº¦æ¡
    const circumference = 2 * Math.PI * 85;
    const requiredHoldTime = 3000;
    let startTime = 0, isHolding = false, progressInterval;

    progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
    progressCircle.style.strokeDashoffset = circumference;

    // äº‹ä»¶
    function handleHoldStart(e) {
      e.preventDefault();
      isHolding = true;
      startTime = Date.now();
      progressText.classList.remove('hidden');
      pressHint.classList.add('hidden');
      instruction.textContent = 'ä¸å¯ã€‹ï½œï¼åçŠ¶&â€¦â€¦&%&è§‚å¯Ÿä¸­....ğŸ‘ï¸â€ğŸ—¨ï¸ğŸ‘ï¸â€ğŸ—¨ï¸ğŸ‘ï¸â€ğŸ—¨ï¸';
      progressInterval = setInterval(updateProgress, 30);
      testArea.classList.add('scale-105');
      testArea.style.transition = 'transform 0.2s';
    }

    function handleHoldEnd() {
      isHolding = false;
      clearInterval(progressInterval);
      resetProgress();
      testArea.classList.remove('scale-105');
      instruction.textContent = 'å°†æ‰‹%@â€¦â€¦#èµç¾ç‰ ï½ï¼‰ï¼â€¦â€¦â€¦â€¦æŒ‡æ”¾åˆ°å±å¹•*#â€”â€”ã€‹èµç¾ç‰ ï¼Ÿï¼Ÿï¼Ÿ-ä¸­é—´åŒºåŸŸï¼Œèµç¾ç‰ ï¼ï¼ï¼';
    }

    function updateProgress() {
      if (!isHolding) return;
      const elapsedTime = Date.now() - startTime;
      const progress = Math.min(elapsedTime / requiredHoldTime, 1);
      progressCircle.style.strokeDashoffset = circumference - progress * circumference;
      progressPercentage.textContent = `${Math.round(progress*100)}%`;
      if (progress >= 1) { clearInterval(progressInterval); generateResult(); }
    }

    function resetProgress() {
      clearInterval(progressInterval);
      progressCircle.style.strokeDashoffset = circumference;
      progressText.classList.add('hidden');
      pressHint.classList.remove('hidden');
      progressPercentage.textContent = '0%';
    }

    // ç”Ÿæˆç»“æœ
    function generateResult() {
      try {
        const result = pigResults[0];
        showResult(result);
      } catch (err) {
        console.error(err);
        alert('ç”Ÿæˆç»“æœå¤±è´¥ï¼Œè¯·é‡è¯•ï¼');
        resetProgress();
      }
    }

    function showResult(result) {
      testArea.classList.add('hidden');
      resultArea.classList.remove('hidden');
      if (resultEmoji) { 
        resultEmoji.src = `image/${result.id}.png`; 
        resultEmoji.alt = result.name; 
        resultEmoji.onerror = () => resultEmoji.src = 'image/mljy.png';
      }
      if (resultTitle) resultTitle.textContent = result.name;
      if (resultDescription) resultDescription.textContent = result.description;
      resultArea.style.opacity = '0';
      resultArea.style.transform = 'translateY(20px)';
      resultArea.style.transition = 'opacity 0.5s, transform 0.5s';
      setTimeout(() => { resultArea.style.opacity='1'; resultArea.style.transform='translateY(0)'; }, 10);
    }

    // é‡æ–°æµ‹è¯•
    function handleRetest() {
      resetProgress();
      testArea.classList.remove('hidden');
      resultArea.classList.add('hidden');
      instruction.textContent = 'å°†æ‰‹%@â€¦â€¦#èµç¾ç‰ ï½ï¼‰ï¼â€¦â€¦â€¦â€¦æŒ‡æ”¾åˆ°å±å¹•*#â€”â€”ã€‹èµç¾ç‰ ï¼Ÿï¼Ÿï¼Ÿ-ä¸­é—´åŒºåŸŸï¼Œèµç¾ç‰ ï¼ï¼ï¼';
    }

    // ç›‘å¬
    const progressContainer = document.querySelector('.progress-container');
    if (progressContainer) {
      progressContainer.addEventListener('mousedown', handleHoldStart);
      progressContainer.addEventListener('touchstart', handleHoldStart);
    }
    document.addEventListener('mouseup', handleHoldEnd);
    document.addEventListener('touchend', handleHoldEnd);
    document.addEventListener('touchcancel', handleHoldEnd);
    if (retestButton) retestButton.addEventListener('click', handleRetest);

  </script>
</body>
</html>
